<nav class="article-controls">
  <% if user_signed_in? %>
    <%= button_to settings_path, id: 'settings', class: 'form-hidden', remote: true do %>
      <%= hidden_field_tag 'font_size', @user.settings[:font_size] %>
      <%= hidden_field_tag 'theme', @user.settings[:theme] %>
    <% end %>
  <% end %>
  <ul class="article-controls__list">
    <li class="article-controls__list-item">
      <%= link_to @article.url, class: 'article-controls__button' do %>
        <%= svg 'reader_menu/ic_arrow-back.svg' %>
      <% end %>
    </li>
    <li class="article-controls__list-item">
      <div class="popover" data-for="text_format" id="font-size-controls">
        <div class="popover__container">
          <div class="popover__button-group">
            <button class="popover__button <%= 'popover__button--active' if @user.settings[:font_size] == "small" %>" data-value="small">
              S<span class="hidden">mall</span>
            </button>
            <button class="popover__button <%= 'popover__button--active' if @user.settings[:font_size] == "normal" %>" data-value="normal">
              N<span class="hidden">ormal</span>
            </button>
            <button class="popover__button <%= 'popover__button--active' if @user.settings[:font_size] == "large" %>" data-value="large">
              L<span class="hidden">arge</span>
            </button>
          </div>
        </div>
      </div>
      <button class="article-controls__button" data-popover-open="text_format">
        <%= svg 'reader_menu/ic_type-size.svg' %>
      </button>
    </li>
    <li class="article-controls__list-item">
      <div class="popover" data-for="theme" id="theme-controls">
        <div class="popover__container">
          <div class="popover__button-group">
            <button class="popover__button <%= 'popover__button--active' if @user.settings[:theme] == "light" %> theme-controls" data-value="light">
              <div class="theme-controls__dot-container theme-controls__dot-container--light">
                <span class="theme-controls__dot theme-controls__dot--blue"></span>
              </div>
            </button>
            <button class="popover__button <%= 'popover__button--active' if @user.settings[:theme] == "dark" %> theme-controls" data-value="dark">
              <div class="theme-controls__dot-container theme-controls__dot-container--dark">
                <span class="theme-controls__dot theme-controls__dot--yellow"></span>
              </div>
            </button>
          </div>
        </div>
      </div>
      <button class="article-controls__button" data-popover-open="theme">
        <%= svg 'reader_menu/ic_color.svg' %>
      </button>
    </li>
    <% if @show_feature %>
      <li class="article-controls__list-item">
        <button class="article-controls__button">
          <%= svg 'reader_menu/ic_storymode.svg' %>
        </button>
      </li>
    <% end %>
  </ul>
</nav>
